# quiz_bot
 
Бот для проведения викторин в Telegram и Вконтакте.

## Установка

Для запуска программ необходим Python 3.

Следует создать чат-ботов - в [Телеграм](https://telegram.me/BotFather) и в [Вконтакте](https://vk.com/groups_create)

Также для работы чат-бота Вконтакте требуется база данных Redis (зарегистрироваться и создать можно [здесь](https://redis.io/)

Скачайте содержимое репозитория на компьютер. Установить зависимости, выполнив

    pip install -r requirements.txt

Создайте файл `.env`, в котором пропишите необходимые переменные среды:

    TG_TOKEN = {токен чат-бота Telegram}
    REDIS_PASS = {пароль от базы данных Redis}
    REDIS_HOST = {адрес БД Redis}
    REDIS_PORT = {порт БД Redis}
    VK_TOKEN = {токен API группы Вконтакте}

## Вопросы к викторине

В репозитории уже имеется файл с вопросами `questions.json`, который по умолчанию используется ботами. Также есть скрипт `questions_listing.py`, предназначенный для парсинга вопросов из файлов с вопросами, например, [отсюда](https://dvmn.org/media/modules_dist/quiz-questions.zip). Для использования скрипта необходимо создать в папке с программой директорию `questions`, положить в нее текстовые файлы с вопросами и запустить скрипт командой

    python questions_listing.py

Из каждого файла скрпит выбирает только первый вопрос, также с отдельными ключами в словаре сохраняются ответ, комментарии, источник и другая информация. Результатом работы будет файл `questions.json`, которым можно заменить имеющийся файл.
  
## Запуск и использование бота в Telegram

Выполнить в консоли
    
    python3 tg_bot.py
    
Начать беседу с ботом командой `/start`

Работающая версия бота доступна [здесь](https://telegram.me/mikl_quiz_bot)

## Запус и использование бота Вконтакте

Выполнить в консоли

    python3 vk_bot.py
   
Начать беседу с ботом командой "Начать"

Работающая версия бота доступна [здесь](https://vk.com/im?sel=-213607169)
